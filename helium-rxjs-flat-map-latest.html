<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="helium-rxjs-import.html">
<!--
An element providing a solution to no problem in particular.

Example:

    <helium-rxjs-flat-map-latest></helium-rxjs-flat-map-latest>

Example:

    <helium-rxjs-flat-map-latest>
    </helium-rxjs-flat-map-latest>
-->

<dom-module id="helium-rxjs-flat-map-latest">

  <script>
  (function() {
    'use strict';

    class FlatMapLatest {
      beforeRegister() {
        this.is = 'helium-rxjs-flat-map-latest';

        this.properties = {
          selector: {
            type: Object,
            value: null
          }
        };
      }
      
      _create(observable) {
        if (typeof this.selector === 'function') {
          return observable.flatMapLatest(this.selector);          
        } else {
         return observable.flatMapLatest(eval(this.selector));          
        }
      }
    }
    Polymer(FlatMapLatest);
  })();
  </script>
</dom-module>
